(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],a);else a(CodeMirror)})(function(a){"use strict";a.defineMode("dtd",function(a){var b=a.indentUnit,c;function d(a,b){c=b;return a}function e(a,b){var c=a.next();if(c=="<"&&a.eat("!")){if(a.eatWhile(/[\-]/)){b.tokenize=f;return f(a,b)}else if(a.eatWhile(/[\w]/))return d("keyword","doindent")}else if(c=="<"&&a.eat("?")){b.tokenize=h("meta","?>");return d("meta",c)}else if(c=="#"&&a.eatWhile(/[\w]/))return d("atom","tag");else if(c=="|")return d("keyword","seperator");else if(c.match(/[\(\)\[\]\-\.,\+\?>]/))return d(null,c);else if(c.match(/[\[\]]/))return d("rule",c);else if(c=='"'||c=="'"){b.tokenize=g(c);return b.tokenize(a,b)}else if(a.eatWhile(/[a-zA-Z\?\+\d]/)){var e=a.current();if(e.substr(e.length-1,e.length).match(/\?|\+/)!==null)a.backUp(1);return d("tag","tag")}else if(c=="%"||c=="*")return d("number","number");else{a.eatWhile(/[\w\\\-_%.{,]/);return d(null,null)}}function f(a,b){var c=0,f;while((f=a.next())!=null){if(c>=2&&f==">"){b.tokenize=e;break}c=f=="-"?c+1:0}return d("comment","comment")}function g(a){return function(b,c){var f=false,g;while((g=b.next())!=null){if(g==a&&!f){c.tokenize=e;break}f=!f&&g=="\\"}return d("string","tag")}}function h(a,b){return function(c,d){while(!c.eol()){if(c.match(b)){d.tokenize=e;break}c.next()}return a}}return{startState:function(a){return{tokenize:e,baseIndent:a||0,stack:[]}},token:function(a,b){if(a.eatSpace())return null;var d=b.tokenize(a,b);var e=b.stack[b.stack.length-1];if(a.current()=="["||c==="doindent"||c=="[")b.stack.push("rule");else if(c==="endtag")b.stack[b.stack.length-1]="endtag";else if(a.current()=="]"||c=="]"||c==">"&&e=="rule")b.stack.pop();else if(c=="[")b.stack.push("[");return d},indent:function(a,d){var e=a.stack.length;if(d.match(/\]\s+|\]/))e=e-1;else if(d.substr(d.length-1,d.length)===">"){if(d.substr(0,1)==="<")e;else if(c=="doindent"&&d.length>1)e;else if(c=="doindent")e--;else if(c==">"&&d.length>1)e;else if(c=="tag"&&d!==">")e;else if(c=="tag"&&a.stack[a.stack.length-1]=="rule")e--;else if(c=="tag")e++;else if(d===">"&&a.stack[a.stack.length-1]=="rule"&&c===">")e--;else if(d===">"&&a.stack[a.stack.length-1]=="rule")e;else if(d.substr(0,1)!=="<"&&d.substr(0,1)===">")e=e-1;else if(d===">")e;else e=e-1;if(c==null||c=="]")e--}return a.baseIndent+e*b},electricChars:"]>"}});a.defineMIME("application/xml-dtd","dtd")});
//# sourceMappingURL=dtd.min.js.map