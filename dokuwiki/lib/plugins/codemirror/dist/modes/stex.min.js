(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],a);else a(CodeMirror)})(function(a){"use strict";a.defineMode("stex",function(){"use strict";function a(a,b){a.cmdState.push(b)}function b(a){if(a.cmdState.length>0){return a.cmdState[a.cmdState.length-1]}else{return null}}function c(a){var b=a.cmdState.pop();if(b){b.closeBracket()}}function d(a){var b=a.cmdState;for(var c=b.length-1;c>=0;c--){var d=b[c];if(d.name=="DEFAULT"){continue}return d}return{styleIdentifier:function(){return null}}}function e(a,b,c){return function(){this.name=a;this.bracketNo=0;this.style=b;this.styles=c;this.argument=null;this.styleIdentifier=function(){return this.styles[this.bracketNo-1]||null};this.openBracket=function(){this.bracketNo++;return"bracket"};this.closeBracket=function(){}}}var f={};f["importmodule"]=e("importmodule","tag",["string","builtin"]);f["documentclass"]=e("documentclass","tag",["","atom"]);f["usepackage"]=e("usepackage","tag",["atom"]);f["begin"]=e("begin","tag",["atom"]);f["end"]=e("end","tag",["atom"]);f["DEFAULT"]=function(){this.name="DEFAULT";this.style="tag";this.styleIdentifier=this.openBracket=this.closeBracket=function(){}};function g(a,b){a.f=b}function h(c,e){var h;if(c.match(/^\\[a-zA-Z@]+/)){var k=c.current().slice(1);h=f[k]||f["DEFAULT"];h=new h;a(e,h);g(e,j);return h.style}if(c.match(/^\\[$&%#{}_]/)){return"tag"}if(c.match(/^\\[,;!\/\\]/)){return"tag"}if(c.match("\\[")){g(e,function(a,b){return i(a,b,"\\]")});return"keyword"}if(c.match("$$")){g(e,function(a,b){return i(a,b,"$$")});return"keyword"}if(c.match("$")){g(e,function(a,b){return i(a,b,"$")});return"keyword"}var l=c.next();if(l=="%"){c.skipToEnd();return"comment"}else if(l=="}"||l=="]"){h=b(e);if(h){h.closeBracket(l);g(e,j)}else{return"error"}return"bracket"}else if(l=="{"||l=="["){h=f["DEFAULT"];h=new h;a(e,h);return"bracket"}else if(/\d/.test(l)){c.eatWhile(/[\w.%]/);return"atom"}else{c.eatWhile(/[\w\-_]/);h=d(e);if(h.name=="begin"){h.argument=c.current()}return h.styleIdentifier()}}function i(a,b,c){if(a.eatSpace()){return null}if(a.match(c)){g(b,h);return"keyword"}if(a.match(/^\\[a-zA-Z@]+/)){return"tag"}if(a.match(/^[a-zA-Z]+/)){return"variable-2"}if(a.match(/^\\[$&%#{}_]/)){return"tag"}if(a.match(/^\\[,;!\/]/)){return"tag"}if(a.match(/^[\^_&]/)){return"tag"}if(a.match(/^[+\-<>|=,\/@!*:;'"`~#?]/)){return null}if(a.match(/^(\d+\.\d*|\d*\.\d+|\d+)/)){return"number"}var d=a.next();if(d=="{"||d=="}"||d=="["||d=="]"||d=="("||d==")"){return"bracket"}if(d=="%"){a.skipToEnd();return"comment"}return"error"}function j(a,d){var e=a.peek(),f;if(e=="{"||e=="["){f=b(d);f.openBracket(e);a.eat(e);g(d,h);return"bracket"}if(/[ \t\r]/.test(e)){a.eat(e);return null}g(d,h);c(d);return h(a,d)}return{startState:function(){return{cmdState:[],f:h}},copyState:function(a){return{cmdState:a.cmdState.slice(),f:a.f}},token:function(a,b){return b.f(a,b)},blankLine:function(a){a.f=h;a.cmdState.length=0},lineComment:"%"}});a.defineMIME("text/x-stex","stex");a.defineMIME("text/x-latex","stex")});
//# sourceMappingURL=stex.min.js.map