(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/overlay"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/overlay"],a);else a(CodeMirror)})(function(a){"use strict";a.defineMode("django:inner",function(){var a=["block","endblock","for","endfor","true","false","loop","none","self","super","if","endif","as","else","import","with","endwith","without","context","ifequal","endifequal","ifnotequal","endifnotequal","extends","include","load","comment","endcomment","empty","url","static","trans","blocktrans","now","regroup","lorem","ifchanged","endifchanged","firstof","debug","cycle","csrf_token","autoescape","endautoescape","spaceless","ssi","templatetag","verbatim","endverbatim","widthratio"],b=["add","addslashes","capfirst","center","cut","date","default","default_if_none","dictsort","dictsortreversed","divisibleby","escape","escapejs","filesizeformat","first","floatformat","force_escape","get_digit","iriencode","join","last","length","length_is","linebreaks","linebreaksbr","linenumbers","ljust","lower","make_list","phone2numeric","pluralize","pprint","random","removetags","rjust","safe","safeseq","slice","slugify","stringformat","striptags","time","timesince","timeuntil","title","truncatechars","truncatechars_html","truncatewords","truncatewords_html","unordered_list","upper","urlencode","urlize","urlizetrunc","wordcount","wordwrap","yesno"],c=["==","!=","<",">","<=",">=","in","not","or","and"];a=new RegExp("^\\b("+a.join("|")+")\\b");b=new RegExp("^\\b("+b.join("|")+")\\b");c=new RegExp("^\\b("+c.join("|")+")\\b");function d(a,b){if(a.match("{{")){b.tokenize=f;return"tag"}else if(a.match("{%")){b.tokenize=g;return"tag"}else if(a.match("{#")){b.tokenize=h;return"comment"}while(a.next()!=null&&!a.match("{{",false)&&!a.match("{%",false)){}return null}function e(a,b){return function(c,d){if(!d.escapeNext&&c.eat(a)){d.tokenize=b}else{if(d.escapeNext){d.escapeNext=false}var e=c.next();if(e=="\\"){d.escapeNext=true}}return"string"}}function f(a,c){if(c.waitDot){c.waitDot=false;if(a.peek()!="."){return"null"}if(a.match(/\.\W+/)){return"error"}else if(a.eat(".")){c.waitProperty=true;return"null"}else{throw Error("Unexpected error while waiting for property.")}}if(c.waitPipe){c.waitPipe=false;if(a.peek()!="|"){return"null"}if(a.match(/\.\W+/)){return"error"}else if(a.eat("|")){c.waitFilter=true;return"null"}else{throw Error("Unexpected error while waiting for filter.")}}if(c.waitProperty){c.waitProperty=false;if(a.match(/\b(\w+)\b/)){c.waitDot=true;c.waitPipe=true;return"property"}}if(c.waitFilter){c.waitFilter=false;if(a.match(b)){return"variable-2"}}if(a.eatSpace()){c.waitProperty=false;return"null"}if(a.match(/\b\d+(\.\d+)?\b/)){return"number"}if(a.match("'")){c.tokenize=e("'",c.tokenize);return"string"}else if(a.match('"')){c.tokenize=e('"',c.tokenize);return"string"}if(a.match(/\b(\w+)\b/)&&!c.foundVariable){c.waitDot=true;c.waitPipe=true;return"variable"}if(a.match("}}")){c.waitProperty=null;c.waitFilter=null;c.waitDot=null;c.waitPipe=null;c.tokenize=d;return"tag"}a.next();return"null"}function g(f,g){if(g.waitDot){g.waitDot=false;if(f.peek()!="."){return"null"}if(f.match(/\.\W+/)){return"error"}else if(f.eat(".")){g.waitProperty=true;return"null"}else{throw Error("Unexpected error while waiting for property.")}}if(g.waitPipe){g.waitPipe=false;if(f.peek()!="|"){return"null"}if(f.match(/\.\W+/)){return"error"}else if(f.eat("|")){g.waitFilter=true;return"null"}else{throw Error("Unexpected error while waiting for filter.")}}if(g.waitProperty){g.waitProperty=false;if(f.match(/\b(\w+)\b/)){g.waitDot=true;g.waitPipe=true;return"property"}}if(g.waitFilter){g.waitFilter=false;if(f.match(b)){return"variable-2"}}if(f.eatSpace()){g.waitProperty=false;return"null"}if(f.match(/\b\d+(\.\d+)?\b/)){return"number"}if(f.match("'")){g.tokenize=e("'",g.tokenize);return"string"}else if(f.match('"')){g.tokenize=e('"',g.tokenize);return"string"}if(f.match(c)){return"operator"}var h=f.match(a);if(h){if(h[0]=="comment"){g.blockCommentTag=true}return"keyword"}if(f.match(/\b(\w+)\b/)){g.waitDot=true;g.waitPipe=true;return"variable"}if(f.match("%}")){g.waitProperty=null;g.waitFilter=null;g.waitDot=null;g.waitPipe=null;if(g.blockCommentTag){g.blockCommentTag=false;g.tokenize=i}else{g.tokenize=d}return"tag"}f.next();return"null"}function h(a,b){if(a.match("#}")){b.tokenize=d}return"comment"}function i(a,b){if(a.match(/\{%\s*endcomment\s*%\}/,false)){b.tokenize=g;a.match("{%");return"tag"}else{a.next();return"comment"}}return{startState:function(){return{tokenize:d}},token:function(a,b){return b.tokenize(a,b)},blockCommentStart:"{% comment %}",blockCommentEnd:"{% endcomment %}"}});a.defineMode("django",function(b){var c=a.getMode(b,"text/html");var d=a.getMode(b,"django:inner");return a.overlayMode(c,d)});a.defineMIME("text/x-django","django")});
//# sourceMappingURL=django.min.js.map