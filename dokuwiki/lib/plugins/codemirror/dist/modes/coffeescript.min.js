(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],a);else a(CodeMirror)})(function(a){"use strict";a.defineMode("coffeescript",function(a,b){var c="error";function d(a){return new RegExp("^(("+a.join(")|(")+"))\\b")}var e=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/;var f=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/;var g=/^[_A-Za-z$][_A-Za-z$0-9]*/;var h=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/;var i=d(["and","or","not","is","isnt","in","instanceof","typeof"]);var j=["for","while","loop","if","unless","else","switch","try","catch","finally","class"];var k=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"];var l=d(j.concat(k));j=d(j);var m=/^('{3}|\"{3}|['\"])/;var n=/^(\/{3}|\/)/;var o=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"];var p=d(o);function q(a,b){if(a.sol()){if(b.scope.align===null)b.scope.align=false;var d=b.scope.offset;if(a.eatSpace()){var j=a.indentation();if(j>d&&b.scope.type=="coffee"){return"indent"}else if(j<d){return"dedent"}return null}else{if(d>0){u(a,b)}}}if(a.eatSpace()){return null}var k=a.peek();if(a.match("####")){a.skipToEnd();return"comment"}if(a.match("###")){b.tokenize=s;return b.tokenize(a,b)}if(k==="#"){a.skipToEnd();return"comment"}if(a.match(/^-?[0-9\.]/,false)){var o=false;if(a.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)){o=true}if(a.match(/^-?\d+\.\d*/)){o=true}if(a.match(/^-?\.\d+/)){o=true}if(o){if(a.peek()=="."){a.backUp(1)}return"number"}var q=false;if(a.match(/^-?0x[0-9a-f]+/i)){q=true}if(a.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)){q=true}if(a.match(/^-?0(?![\dx])/i)){q=true}if(q){return"number"}}if(a.match(m)){b.tokenize=r(a.current(),false,"string");return b.tokenize(a,b)}if(a.match(n)){if(a.current()!="/"||a.match(/^.*\//,false)){b.tokenize=r(a.current(),true,"string-2");return b.tokenize(a,b)}else{a.backUp(1)}}if(a.match(e)||a.match(i)){return"operator"}if(a.match(f)){return"punctuation"}if(a.match(p)){return"atom"}if(a.match(l)){return"keyword"}if(a.match(g)){return"variable"}if(a.match(h)){return"property"}a.next();return c}function r(a,d,e){return function(f,g){while(!f.eol()){f.eatWhile(/[^'"\/\\]/);if(f.eat("\\")){f.next();if(d&&f.eol()){return e}}else if(f.match(a)){g.tokenize=q;return e}else{f.eat(/['"\/]/)}}if(d){if(b.singleLineStringErrors){e=c}else{g.tokenize=q}}return e}}function s(a,b){while(!a.eol()){a.eatWhile(/[^#]/);if(a.match("###")){b.tokenize=q;break}a.eatWhile("#")}return"comment"}function t(b,c,d){d=d||"coffee";var e=0,f=false,g=null;for(var h=c.scope;h;h=h.prev){if(h.type==="coffee"||h.type=="}"){e=h.offset+a.indentUnit;break}}if(d!=="coffee"){f=null;g=b.column()+b.current().length}else if(c.scope.align){c.scope.align=false}c.scope={offset:e,type:d,prev:c.scope,align:f,alignOffset:g}}function u(a,b){if(!b.scope.prev)return;if(b.scope.type==="coffee"){var c=a.indentation();var d=false;for(var e=b.scope;e;e=e.prev){if(c===e.offset){d=true;break}}if(!d){return true}while(b.scope.prev&&b.scope.offset!==c){b.scope=b.scope.prev}return false}else{b.scope=b.scope.prev;return false}}function v(a,b){var d=b.tokenize(a,b);var e=a.current();if(e==="."){d=b.tokenize(a,b);e=a.current();if(/^\.[\w$]+$/.test(e)){return"variable"}else{return c}}if(e==="return"){b.dedent=true}if((e==="->"||e==="=>")&&!b.lambda&&!a.peek()||d==="indent"){t(a,b)}var f="[({".indexOf(e);if(f!==-1){t(a,b,"])}".slice(f,f+1))}if(j.exec(e)){t(a,b)}if(e=="then"){u(a,b)}if(d==="dedent"){if(u(a,b)){return c}}f="])}".indexOf(e);if(f!==-1){while(b.scope.type=="coffee"&&b.scope.prev)b.scope=b.scope.prev;if(b.scope.type==e)b.scope=b.scope.prev}if(b.dedent&&a.eol()){if(b.scope.type=="coffee"&&b.scope.prev)b.scope=b.scope.prev;b.dedent=false}return d}var w={startState:function(a){return{tokenize:q,scope:{offset:a||0,type:"coffee",prev:null,align:false},lastToken:null,lambda:false,dedent:0}},token:function(a,b){var c=b.scope.align===null&&b.scope;if(c&&a.sol())c.align=false;var d=v(a,b);if(c&&d&&d!="comment")c.align=true;b.lastToken={style:d,content:a.current()};if(a.eol()&&a.lambda){b.lambda=false}return d},indent:function(a,b){if(a.tokenize!=q)return 0;var c=a.scope;var d=b&&"])}".indexOf(b.charAt(0))>-1;if(d)while(c.type=="coffee"&&c.prev)c=c.prev;var e=d&&c.type===b.charAt(0);if(c.align)return c.alignOffset-(e?1:0);else return(e?c.prev:c).offset},lineComment:"#",fold:"indent"};return w});a.defineMIME("text/x-coffeescript","coffeescript")});
//# sourceMappingURL=coffeescript.min.js.map