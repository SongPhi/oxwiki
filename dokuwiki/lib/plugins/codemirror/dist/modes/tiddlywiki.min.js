(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],a);else a(CodeMirror)})(function(a){"use strict";a.defineMode("tiddlywiki",function(){var a={};var b=function(){function a(a){return{type:a,style:"macro"}}return{allTags:a("allTags"),closeAll:a("closeAll"),list:a("list"),newJournal:a("newJournal"),newTiddler:a("newTiddler"),permaview:a("permaview"),saveChanges:a("saveChanges"),search:a("search"),slider:a("slider"),tabs:a("tabs"),tag:a("tag"),tagging:a("tagging"),tags:a("tags"),tiddler:a("tiddler"),timeline:a("timeline"),today:a("today"),version:a("version"),option:a("option"),"with":a("with"),filter:a("filter")}}();var c=/[\w_\-]/i,d=/^\-\-\-\-+$/,e=/^\/\*\*\*$/,f=/^\*\*\*\/$/,g=/^<<<$/,h=/^\/\/\{\{\{$/,i=/^\/\/\}\}\}$/,j=/^<!--\{\{\{-->$/,k=/^<!--\}\}\}-->$/,l=/^\{\{\{$/,m=/^\}\}\}$/,n=/.*?\}\}\}/;function o(a,b,c){b.tokenize=c;return c(a,b)}function p(b,m){var n=b.sol(),p;m.block=false;p=b.peek();if(n&&/[<\/\*{}\-]/.test(p)){if(b.match(l)){m.block=true;return o(b,m,s)}if(b.match(g)){return"quote"}if(b.match(e)||b.match(f)){return"comment"}if(b.match(h)||b.match(i)||b.match(j)||b.match(k)){return"comment"}if(b.match(d)){return"hr"}}p=b.next();if(n&&/[\/\*!#;:>|]/.test(p)){if(p=="!"){b.skipToEnd();return"header"}if(p=="*"){b.eatWhile("*");return"comment"}if(p=="#"){b.eatWhile("#");return"comment"}if(p==";"){b.eatWhile(";");return"comment"}if(p==":"){b.eatWhile(":");return"comment"}if(p==">"){b.eatWhile(">");return"quote"}if(p=="|"){return"header"}}if(p=="{"&&b.match(/\{\{/)){return o(b,m,s)}if(/[hf]/i.test(p)){if(/[ti]/i.test(b.peek())&&b.match(/\b(ttps?|tp|ile):\/\/[\-A-Z0-9+&@#\/%?=~_|$!:,.;]*[A-Z0-9+&@#\/%=~_|$]/i)){return"link"}}if(p=='"'){return"string"}if(p=="~"){return"brace"}if(/[\[\]]/.test(p)){if(b.peek()==p){b.next();return"brace"}}if(p=="@"){b.eatWhile(c);return"link"}if(/\d/.test(p)){b.eatWhile(/\d/);return"number"}if(p=="/"){if(b.eat("%")){return o(b,m,q)}else if(b.eat("/")){return o(b,m,t)}}if(p=="_"){if(b.eat("_")){return o(b,m,u)}}if(p=="-"){if(b.eat("-")){if(b.peek()!=" ")return o(b,m,v);if(b.peek()==" ")return"brace"}}if(p=="'"){if(b.eat("'")){return o(b,m,r)}}if(p=="<"){if(b.eat("<")){return o(b,m,w)}}else{return null}b.eatWhile(/[\w\$_]/);var x=b.current(),y=a.propertyIsEnumerable(x)&&a[x];return y?y.style:null}function q(a,b){var c=false,d;while(d=a.next()){if(d=="/"&&c){b.tokenize=p;break}c=d=="%"}return"comment"}function r(a,b){var c=false,d;while(d=a.next()){if(d=="'"&&c){b.tokenize=p;break}c=d=="'"}return"strong"}function s(a,b){var c=b.block;if(c&&a.current()){return"comment"}if(!c&&a.match(n)){b.tokenize=p;return"comment"}if(c&&a.sol()&&a.match(m)){b.tokenize=p;return"comment"}a.next();return"comment"}function t(a,b){var c=false,d;while(d=a.next()){if(d=="/"&&c){b.tokenize=p;break}c=d=="/"}return"em"}function u(a,b){var c=false,d;while(d=a.next()){if(d=="_"&&c){b.tokenize=p;break}c=d=="_"}return"underlined"}function v(a,b){var c=false,d;while(d=a.next()){if(d=="-"&&c){b.tokenize=p;break}c=d=="-"}return"strikethrough"}function w(a,c){var d,e,f;if(a.current()=="<<"){return"macro"}d=a.next();if(!d){c.tokenize=p;return null}if(d==">"){if(a.peek()==">"){a.next();c.tokenize=p;return"macro"}}a.eatWhile(/[\w\$_]/);e=a.current();f=b.propertyIsEnumerable(e)&&b[e];if(f){return f.style,e}else{return null,e}}return{startState:function(){return{tokenize:p,indented:0,level:0}},token:function(a,b){if(a.eatSpace())return null;var c=b.tokenize(a,b);return c},electricChars:""}});a.defineMIME("text/x-tiddlywiki","tiddlywiki")});
//# sourceMappingURL=tiddlywiki.min.js.map