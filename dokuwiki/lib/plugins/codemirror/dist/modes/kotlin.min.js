(function(a){if(typeof exports=="object"&&typeof module=="object")a(require("../../lib/codemirror"));else if(typeof define=="function"&&define.amd)define(["../../lib/codemirror"],a);else a(CodeMirror)})(function(a){"use strict";a.defineMode("kotlin",function(a,b){function c(a){var b={},c=a.split(" ");for(var d=0;d<c.length;++d)b[c[d]]=true;return b}var d=b.multiLineStrings;var e=c("package continue return object while break class data trait interface throw super"+" when type this else This try val var fun for is in if do as true false null get set");var f=c("import"+" where by get set abstract enum open annotation override private public internal"+" protected catch out vararg inline finally final ref");var g=c("catch class do else finally for if where try while enum");var h=c("null true false this");var i;function j(a,b){var c=a.next();if(c=='"'||c=="'"){return k(c,a,b)}if(c=="."&&a.eat("*")){return"word"}if(/[\[\]{}\(\),;\:\.]/.test(c)){i=c;return null}if(/\d/.test(c)){if(a.eat(/eE/)){a.eat(/\+\-/);a.eatWhile(/\d/)}return"number"}if(c=="/"){if(a.eat("*")){b.tokenize.push(n);return n(a,b)}if(a.eat("/")){a.skipToEnd();return"comment"}if(o(b.lastToken)){return k(c,a,b)}}if(c=="-"&&a.eat(">")){i="->";return null}if(/[\-+*&%=<>!?|\/~]/.test(c)){a.eatWhile(/[\-+*&%=<>|~]/);return"operator"}a.eatWhile(/[\w\$_]/);var d=a.current();if(h.propertyIsEnumerable(d)){return"atom"}if(f.propertyIsEnumerable(d)){if(g.propertyIsEnumerable(d))i="newstatement";return"softKeyword"}if(e.propertyIsEnumerable(d)){if(g.propertyIsEnumerable(d))i="newstatement";return"keyword"}return"word"}j.isBase=true;function k(a,b,c){var e=false;if(a!="/"&&b.eat(a)){if(b.eat(a))e=true;else return"string"}function f(b,c){var g=false,h,i=!e;while((h=b.next())!=null){if(h==a&&!g){if(!e){break}if(b.match(a+a)){i=true;break}}if(a=='"'&&h=="$"&&!g&&b.eat("{")){c.tokenize.push(l());return"string"}if(h=="$"&&!g&&!b.eat(" ")){c.tokenize.push(m());return"string"}g=!g&&h=="\\"}if(d)c.tokenize.push(f);if(i)c.tokenize.pop();return"string"}c.tokenize.push(f);return f(b,c)}function l(){var a=1;function b(b,c){if(b.peek()=="}"){a--;if(a==0){c.tokenize.pop();return c.tokenize[c.tokenize.length-1](b,c)}}else if(b.peek()=="{"){a++}return j(b,c)}b.isBase=true;return b}function m(){function a(a,b){if(a.eat(/[\w]/)){var c=a.eatWhile(/[\w]/);if(c){b.tokenize.pop();return"word"}}b.tokenize.pop();return"string"}a.isBase=true;return a}function n(a,b){var c=false,d;while(d=a.next()){if(d=="/"&&c){b.tokenize.pop();break}c=d=="*"}return"comment"}function o(a){return!a||a=="operator"||a=="->"||/[\.\[\{\(,;:]/.test(a)||a=="newstatement"||a=="keyword"||a=="proplabel"}function p(a,b,c,d,e){this.indented=a;this.column=b;this.type=c;this.align=d;this.prev=e}function q(a,b,c){return a.context=new p(a.indented,b,c,null,a.context)}function r(a){var b=a.context.type;if(b==")"||b=="]"||b=="}")a.indented=a.context.indented;return a.context=a.context.prev}return{startState:function(b){return{tokenize:[j],context:new p((b||0)-a.indentUnit,0,"top",false),indented:0,startOfLine:true,lastToken:null}},token:function(a,b){var c=b.context;if(a.sol()){if(c.align==null)c.align=false;b.indented=a.indentation();b.startOfLine=true;if(c.type=="statement"&&!o(b.lastToken)){r(b);c=b.context}}if(a.eatSpace())return null;i=null;var d=b.tokenize[b.tokenize.length-1](a,b);if(d=="comment")return d;if(c.align==null)c.align=true;if((i==";"||i==":")&&c.type=="statement")r(b);else if(i=="->"&&c.type=="statement"&&c.prev.type=="}"){r(b);b.context.align=false}else if(i=="{")q(b,a.column(),"}");else if(i=="[")q(b,a.column(),"]");else if(i=="(")q(b,a.column(),")");else if(i=="}"){while(c.type=="statement")c=r(b);if(c.type=="}")c=r(b);while(c.type=="statement")c=r(b)}else if(i==c.type)r(b);else if(c.type=="}"||c.type=="top"||c.type=="statement"&&i=="newstatement")q(b,a.column(),"statement");b.startOfLine=false;b.lastToken=i||d;return d},indent:function(b,c){if(!b.tokenize[b.tokenize.length-1].isBase)return 0;var d=c&&c.charAt(0),e=b.context;if(e.type=="statement"&&!o(b.lastToken))e=e.prev;var f=d==e.type;if(e.type=="statement"){return e.indented+(d=="{"?0:a.indentUnit)}else if(e.align)return e.column+(f?0:1);else return e.indented+(f?0:a.indentUnit)},closeBrackets:{triples:"'\""},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});a.defineMIME("text/x-kotlin","kotlin")});
//# sourceMappingURL=kotlin.min.js.map